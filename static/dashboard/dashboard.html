<section id="dashboard">
  <nav class="pure-g animated fadeInDown">
    <div class="pure-u-2-5">
      <select class="endpoint" ng-model="activeEndpoint" ng-options="endpoint.id for endpoint in endpoints">
        <option value="">-- choose endpoint --</option>
      </select>
    </div>
    <div class="pure-u-1-5">
      <a class="logo" href="#/">abcd</a>
    </div>
    <div class="pure-u-2-5">
      <!-- <a href="#/dashboard" class="active">Dashboard</a> -->
      <a href="#/docs"><i class="icon ion-ios7-bookmarks"></i></a>
      <a href="#/settings"><i class="icon ion-gear-a"></i></a>
      <a href="#/logout"><i class="icon ion-log-out"></i></a>
    </div>
  </nav>

    <div class="pure-g endpoints">
      <section class="pure-u-1-2 animated bounceInLeft">
        <h2><i class="icon ion-key"></i> Active endpoints</h2>
        <!-- <p>Experiments are always associated with an endpoint. Deactivating endpoints means no more conversions will be recorded for this endpoint.</p> -->
        <ul>
          <li class="endpoint" ng-repeat="endpoint in endpoints" ng-if="endpoint.is_active">
            {{endpoint.id}}
            <span ng-click="deactivateEndpoint(endpoint)" title="Deactivate {{endpoint.id}}"><i class="icon ion-close"></i></span>
          </li>
          <li class="add-endpoint" ng-click="addEndpoint()" title="Add a new endpoint">
            <i class="icon ion-plus"></i>
          </li>
        </ul>
      </section>
      <section class="pure-u-1-2 animated bounceInRight">
        <h2><i class="icon ion-key"></i> Inactive endpoints</h2>
        <!-- <p>Accidentaly deactivated an endpoint? No problem endpoints can be reactivated.</p> -->
        <ul>
          <li class="endpoint" ng-repeat="endpoint in endpoints" ng-if="!endpoint.is_active">
            {{endpoint.id}}
            <span ng-click="activateEndpoint(endpoint)" title="Reactivate {{endpoint.id}}"><i class="icon ion-reply"></i></span>
          </li>
        </ul>
      </section>
    </div>

  <script id="endpoints-template" type="x-tmpl-mustache">
    {{#endpoints}}
      <div class="endpoint" data-endpoint="{{endpoint}}">
        <h2>Experiments for endpoint <span>{{endpoint}} <button class="delete-endpoint" title="Delete this endpoint">×</button></span></h2>


        <table class="experiments">
          <thead>
            <tr>
              <th class="running">Running?</th>
              <th class="name">Name</th>
              <th class="visitors">Visitiors</th>
              <th class="actions">Actions</th>
              <th class="delete"></th>
            </tr>
          </thead>
          <tbody>
            {{#experiments}}
              <tr class="experiment" data-id="{{id}}">
                <td class="running-{{running}} running">•</td>
                <td><a href="./experiment/{{id}}">{{name}}</a></td>
                <td class="visitors">{{visitors}}</td>
                <td class="actions">{{actions}}</td>
                <td class="delete"><button data-id="{{id}}" title="Delete this experiment" class="delete-experiment">×</button></td>
              </tr>
            {{/experiments}}
            {{^experiments.0}}
              <tr>
                <td></td>
                <td><em>No experiments available for this endpoint :(</em></td>
                <td></td>
                <td></td>
                <td></td>
              </tr>
            {{/experiments.0}}
          </tbody>
        </table>
      </div>
    {{/endpoints}}
    {{^endpoints.0}}
      <h1>No endpoints available :(</h1>
    {{/endpoints.0}}
  </script>
</section>
